.. _python_face_embedder_example:

Python Face Embedder Example
^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Initialize face embedder model

.. code-block:: python

    from oneML import faceAPI as api
    embedder = api.FaceEmbedder()

Initialize face embedder model with licensing

.. code-block:: python

    from oneML import faceAPI as api
    license_manager = api.LicenseManager()
    license_manager.set_key("LICENSE_KEY_VALUE_HERE")
    license_manager.activate_key()
    embedder = api.FaceEmbedder(license_manager)

Read input as numpy array

.. code-block:: python

    img = np.array(cv2.cvtColor(cv2.imread(image_path), cv2.COLOR_BGR2RGB), dtype=np.uint8)
    imgs = np.expand_dims(img, axis=0)

Run the model

.. code-block:: python

    results = embedder.embed(imgs)

or

.. code-block:: python

    result = embedder.embed(img)

To enable flipped image embedding, run

.. code-block:: python

    results = embedder.embed(imgs, True)

And get the output

.. code-block:: python

    embedding = result.get_embedding()
    status = result.get_return_status()